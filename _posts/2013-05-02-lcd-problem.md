---
layout: post
title: "lcd problem"
description: ""
category: 
tags: []
---
{% include JB/setup %}
最近最一个LCD方面的问题，第一个是RGB666调到RGB888，先追了下代码发现显示上没有什么问题。然后看了下那块屏，屏上面还有一个控制器的。然后，找到了一个那个控制器有个设置格式的寄存器。

处理器这边弄成了888但是，屏上的控制器没有弄成888，这时，屏上显示的东西轮廓还是有的，但是色不是它正常显示的色了。

然后弄背光，研究了很久那个屏上控制器的背光，发现没有影响。然后就看了下屏的电路图，发现它引出了LEDK LEDA这样的信号，然后那个屏的控制器并没有这样的信号，猜测这个屏的背光并没有用控制器来实现。然后就看了下处理器这边的原理图，这个背光的实现是用一个GPIO控制开关，还用PMIC上的PMW来控制亮度。

那个像素时钟改变的话会发生这样的事情，可能会闪，也可能会有一条随机的线在不同位置出现。

